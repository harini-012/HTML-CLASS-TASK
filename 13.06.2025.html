<!DOCTYPE html>
<html>
<head>
	<title>JavaScript</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">	
</head>

<body class="bg-warning">
  <div class="container-fluid m-4">	
	<h1 style="text-align:center">Sync and Async Basics</h1><br>
	<h2>Javascript timing functions</h2>
	<p>This is a timing fucntion which will run for specified time and display time out message</p>
	<script>
		let count=5;
		let timer=setInterval(()=>{
		console.log(count);
		count--
		if (count<0)
		{
			clearInterval(timer);
			console.log("Timer Cleared")
		}
		},1000);
	</script>
	<h2>Javascript timing functions with a named fucntion</h2>
	<p>This is a timing fucntion which will run for specified time and display time out message</p>
	<script>
		let count1=5;
	
		function showtimer()
		{
			console.log(count1);
			count1--
			if (count1<0)
			{
				clearInterval(timer1);
				console.log("Timer Cleared")
			}
		}
		let timer1=setInterval(showtimer,1000)
	</script>
	<h2>Setting and clearing time out fucntions</h2>
	<p>When we click button respective function will work</p>
	<button class="btn btn-primary me-5" id="b1" onclick="startTimer()">Start</button>
	<button class="btn btn-primary" id="b2" onclick="stopTimer()">Stop</button>
	<p id="p1"></p>	
	<script>
	    let timerId;
		function startTimer()
		{
			document.getElementById("p1").textContent="The timer going to start";
			timerId=setTimeout(function()
			{
				document.getElementById("p1").textContent = "üëåThe timer started after 6 seconds"
			},6000)
		}
		function stopTimer()
		{
			clearTimeout(timerId);
			document.getElementById("p1").textContent="üëçTimer is stopped again"
		}
	</script>
	<h2>Java Script call back functions without callback</h2>
	<p>It is a function passsed as an argument to another function.It will display the latest call</p>
	<p id="p2"></p>
	<script>
		function display(para)
		{	
			document.getElementById("p2").innerHTML=para;
		}
		function call()
		{
			display("Harini")
		}
		function call2()
		{
			display("Poorani")
		}
		call();
		call2();
	</script>
	<h2>Java Script call back functions with call back</h2>
	<p>It is a function passsed as an argument to another function.It will display the latest call</p>
	<p id="p3"></p>
	<script>
		function display(para)
		{	
			document.getElementById("p3").innerHTML +=para+"<br>";
		}
		function call(callBack)
		{
			alert("The first function is called")
			display("Harini");
			callBack();
		}
		function call2()
		{
			alert("The last function is called")
			display("Poorani")
		}
		call(call2);
		
	</script>
	<h2>Java Script Asynchronous</h2>
	<p>It runs parallel with another function</p>
	<p id="p4"></p>
	<script>
		setTimeout(asyncfun,4000)
		function asyncfun()
		{
			document.getElementById("p4").innerHTML="Asynchronous Function is getting displayed"
		}
	</script>
	<h2>Java Script Promises</h2>
	<p>It is used to handle asynchronous functions</p>
	<p id="p5">
	<script>
		let promise=new Promise(function(resolve,reject)
		{
			let success=false;
			setTimeout(()=>
			{
				if (success)				
			    {
					resolve("‚úîÔ∏èPromise resolved")
				}
				else
				{
					reject("‚ùåPromise rejected")
				}
			},3000);
		});
		promise.then((message)=>{document.getElementById("p5").innerHTML="Then:"+message});
		promise.catch((error)=>{document.getElementById("p5").innerHTML="Catch:"+error});
		
		
	</script>
</body>
</html>